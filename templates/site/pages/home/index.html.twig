{% extends "site/components/_base.html.twig" %}
{% block title %}{{ h1 }}{% endblock %}
{% block body %}

    <h1 class="col-12 text-center my-5">{{ h1}}</h1>

    <div class="row g-0 justify-content-center my-5 px-3">
        <p class="col-12 col-md-8 col-lg-7 mb-3 lead">
            J'ai créé ce petit site: <br/>
                <span {{ stimulus_controller('symfony/ux-typed', {
                    strings: ['pour m\'entrainer et m\'améliorer ', 'pour tester mes connaissances... ','pour mettre en pratique mes connaissances ', 'pour vous dire que je suis autodidacte à 100%... '],
                    smartBackspace: true,
                    startDelay: 500,
                    backSpeed: 50,
                    backDelay: 500,
                    loop: true,
                    showCursor: true,
                    cursorChar: '✨'
                }) }}></span>
        </p>
        <p class="col-12 col-md-8 col-lg-7 px-3">
            <span class="fw-bolder fst-italic text-primary">N' hésitez pas à prendre contact avec moi si vous avez un projet.</span>
        </p>
    </div>

    <div class="container my-5 py-5 bg-light rounded-3 shadow">
        <div class="row g-0 justify-content-center">
            <h3 class="display-6 mb-4 text-center">Quelques informations provenant de l'API OpenWeather</h3>
            
            {% if citiesDatas is not empty %}
                {# Utilisation de "col-12" pour occuper toute la largeur sur mobile, puis de "col-md-6" et "col-lg-4" pour une meilleure répartition sur les écrans plus larges. #}
                <div class="row g-4 justify-content-center">
                    {% for city in citiesDatas %}
                        <div class="col-12 col-md-6 col-lg-4 d-flex">
                            <div class="card h-100 w-100 shadow-sm border-0">
                                <div class="card-header bg-primary text-white text-center fs-5">{{ city.name }}</div>
                                <div class="card-body p-4">
                                    <div class="row g-2">
                                        {# Les paires icône-donnée restent sur une seule colonne pour les petits écrans, puis se divisent sur deux colonnes. #}
                                        <div class="col-12 d-flex align-items-center mb-2">
                                            <i class="fa-solid fa-cloud-sun me-2 text-info"></i>
                                            <span class="fw-bold me-auto">Lever du soleil:</span>
                                            <span>{{ city.sunrise }}</span>
                                        </div>
                                        <div class="col-12 d-flex align-items-center mb-2">
                                            <i class="fa-solid fa-cloud-moon me-2 text-warning"></i>
                                            <span class="fw-bold me-auto">Coucher du soleil:</span>
                                            <span>{{ city.sunset }}</span>
                                        </div>
                                        <div class="col-12 d-flex align-items-center mb-2">
                                            <i class="fa-solid fa-temperature-low me-2 text-primary"></i>
                                            <span class="fw-bold me-auto">Température min:</span>
                                            <span>{{ city.temp_min }} °C</span>
                                        </div>
                                        <div class="col-12 d-flex align-items-center mb-2">
                                            <i class="fa-solid fa-temperature-high me-2 text-danger"></i>
                                            <span class="fw-bold me-auto">Température max:</span>
                                            <span>{{ city.temp_max }} °C</span>
                                        </div>
                                        <div class="col-12 d-flex align-items-center mb-2">
                                            <i class="fa-solid fa-gauge-high me-2 text-secondary"></i>
                                            <span class="fw-bold me-auto">Pression:</span>
                                            <span>{{ city.pressure }} hPa</span>
                                        </div>
                                        <div class="col-12 d-flex align-items-center mb-2">
                                            <i class="fa-solid fa-droplet me-2 text-info"></i>
                                            <span class="fw-bold me-auto">Humidité:</span>
                                            <span>{{ city.humidity }} %</span>
                                        </div>
                                        <div class="col-12 d-flex align-items-center mb-2">
                                            <i class="fa-solid fa-wind me-2 text-primary"></i>
                                            <span class="fw-bold me-auto">Vent:</span>
                                            <span>{{ city.wind }} m/s</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    {% endfor %}
                </div>
            {% else %}
                <div class="col-12 col-md-8 col-lg-7 text-center">
                    <div class="alert alert-danger" role="alert">
                        <i class="fa-solid fa-triangle-exclamation me-2"></i>
                        <strong>Aïe!</strong> Le serveur de l'API semble actuellement indisponible.
                    </div>
                </div>
            {% endif %}
        </div>
    </div>
{% endblock %}